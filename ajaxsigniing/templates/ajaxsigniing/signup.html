<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script>
      $(document).ready(
             function() {
         $('#id_username').on('change',
      function(e) {
        var username = $(this).val();
        $.ajax({
        url: '{% url "ajaxsigniing:validate_username" %}',
        data: {
          'username': username
        },
        dataType: 'json',
        success: function (data) {
          if (data.is_taken) {
            alert("A user with this username already exists.");
          }
        }
      });

    })
     }
     );
  </script>
</head>
<body>


		<form method="POST"  action="">
								{% csrf_token %}
										<!-- {{form.as_p}} -->
										<!-- <div class="form-control"> -->
											
										<!-- </div> -->
										{{ form.non_field_errors }}
										<!-- <div class="form-group"> -->
											{{ form.username.errors }}
											<label for="{{ form.username.id_for_label }}">Username:</label>
										<p>	{{ form.username }} </p>
										<!-- </div> -->
										
										<!-- </div> -->

										<!-- <div class="form-group"> -->
											{{ form.password.errors }}
											<label for="{{ form.password.id_for_label }}">Password:</label>
										<p>	{{ form.password1 }}</p>
										<!-- </div> -->
										<!-- <div class="form-group"> -->
												{{ form.password.errors }}
												<label for="{{ form.password.id_for_label }}">Confirm Password:</label>
											<p>	{{ form.password2 }} </p>
											<!-- </div> -->


		<button type="submit" class="btn btn-block">Sign Up!</button>
	</form>

</body>
</html>

